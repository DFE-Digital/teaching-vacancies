- content_for :page_title_prefix do
  = t('subscriptions.new')

- content_for :page_description do
  = t('subscriptions.new')

.govuk-grid-row
  .govuk-grid-column-full
    %h1.govuk-heading-xl
      = t('subscriptions.new')

.govuk-grid-row
  .govuk-grid-column-one

    - if @subscription.errors.any?
      #errors.govuk-error-summary{role: 'alert', tabindex: '-1'}
        %h2.govuk-heading-m.govuk-error-summary-heading
          = t('errors.feedback.errors_present')
        %ul.govuk-list.govuk-error-summary__list
          - @subscription.errors.each do |attribute, error|
            %li= @subscription.errors.full_message(attribute, error)

.govuk-grid-row
  .govuk-grid-column-one-half
    %p.govuk-body-l=t('subscriptions.intro')
    = render partial: 'criteria', locals: { subscription: @subscription }

    = simple_form_for @subscription do |f|
      = render partial: 'form', locals: { form: f, subscription: @subscription }

      .govuk-warning-text
        %span.govuk-warning-text__icon{'aria-hidden': "true"}
          = '!'
        %strong.govuk-warning-text__text
          %span.govuk-warning-text__assistive Warning
          = t('subscriptions.info')

      = f.button :submit, 'Subscribe'
