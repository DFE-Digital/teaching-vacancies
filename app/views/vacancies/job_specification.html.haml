%h1.heading-large
  Publish a vacancy for
  = @vacancy.school.name
  %span.heading-secondary
    Step 1 of 3
= render 'error_messages', errors: @vacancy.errors
= simple_form_for @vacancy, html: { class: 'vacancy-form' } do |f|
  = hidden_field_tag :from, :job_specification
  = hidden_field_tag :next, (params[:next] || :candidate_specification)
  %h2.heading-medium
    Job specification

  .grid-row
    .column-one-half
      = f.input :job_title,
                hint: 'Must indicate subject to be taught (secondary school) or level of seniority',
                required: true
      = f.input :headline,
                hint: 'Single sentence, summing up the job on offer, to appear at top of the listing',
                input_html: {rows: 5},
                required: true
      = f.input :job_description,
                hint: 'A description of the job, and the duties involved, and competencies and attitudes expected to be shown by the jobholder',
                input_html: {rows: 10},
                required: true
      = f.input :benefits,
                input_html: {rows: 5},
                required: false
      = f.association :subject,
                      label: "Main Subject",
                      hint: 'The main subject to be taught by teacher',
                      collection: Subject.order(:name),
                      required: false
      %fieldset.form-group
        %legend
          %div Salary range
          %span.form-hint Annual pay before tax (Â£)

        = f.input :minimum_salary,
                  as: :integer,
                  required: true,
                  wrapper: false,
                  label: false,
                  input_html: {class: 'form-control-1-8'}

        to

        = f.input :maximum_salary,
                  as: :integer,
                  wrapper: false,
                  required: true,
                  label: false,
                  input_html: {class: 'form-control-1-8'}

      = f.association :pay_scale,
                      hint: 'The pay scale on which the salary of the job falls',
                      collection: PayScale.order(:label),
                      label_method: :label,
                      required: false
      = f.input :working_pattern,
                collection: working_pattern_options,
                required: true
      = f.input :weekly_hours,
                as: :decimal,
                hint: 'Number of hours to be worked each week',
                required: false
      = f.association :leadership,
                      label: 'Leadership level',
                      collection: Leadership.order(:title),
                      required: false

      %div.form-group
        = f.gov_uk_date_field :starts_on, legend_text: 'Expected start date (optional)', legend_class: 'form-label-bold', form_hint_text: 'For example, 31 9 2018'

      %div.form-group
        = f.gov_uk_date_field :ends_on, legend_text: 'Expected end date (optional)', legend_class: 'form-label-bold', form_hint_text: 'For example, 31 2 2019'

      = f.input :school_id, as: :hidden, if: :new_record?
      = f.button :submit, 'Save and continue'