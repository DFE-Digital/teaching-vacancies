%a.govuk-link{ href: "/previews" }
  = 'Main page'
%h2.govuk-heading-xl{ class: 'govuk-!-margin-bottom-4 govuk-!-margin-top-4' }
  = 'Filters Component'

%p.govuk-body{ class: 'govuk-!-margin-bottom-8' }= 'displays a filter group... blah blah blah blah blah blah blah blah'

= form_for @preview_form, url: '/previews/shared/filters_component/default', html: { method: "get" } do |f|
  %h2.govuk-heading-m= 'Example'
  = render(Shared::FiltersComponent.new(form: f, options: { remove_buttons: @preview_form.remove_buttons, mobile_variant: @preview_form.mobile_variant, close_all: @preview_form.close_all }, filters: { total_count: 4, title: 'Filters title' }, items: [{ title: 'Group title', key: 'preview_key', search: @preview_form.search, scroll: @preview_form.scroll, attribute: :groups, selected: %w[option_1 option_2 option_3 option_4 option_5], options: [%w[option_1 one], %w[option_2 two], %w[option_3 three], %w[option_4 four], %w[option_5 five]], value_method: :first, text_method: :last, selected_method: :last, small: @preview_form.small }]))

  %h2.govuk-heading-m= 'Options'

  .govuk-grid-row
    .govuk-grid-column-one-half
      .govuk-form-group 
        = f.govuk_check_box :remove_buttons,
          'true',
          label: { text: 'remove selected buttons' },
          link_errors: false

        = f.govuk_check_box :mobile_variant,
          'true',
          label: { text: 'mobile variant' },
          link_errors: false

        = f.govuk_check_box :close_all,
          'true',
          label: { text: 'close all groups' },
          link_errors: false
          
    .govuk-grid-column-one-half
      .govuk-form-group 
        = f.govuk_check_box :search,
          'true',
          label: { text: 'search checkbox group' },
          link_errors: false

        = f.govuk_check_box :scroll,
          'true',
          label: { text: 'scroll' },
          link_errors: false

        = f.govuk_check_box :small,
          'true',
          label: { text: 'small size checkboxes' },
          link_errors: false

  .govuk-grid-row
    .govuk-grid-column-full
      .govuk-form-group
        = f.govuk_submit 'Update'

%h2.govuk-heading-m= 'HAML template'

%pre
  %code= "render(Shared::FiltersComponent.new(\n\tform: f <GOVUKDesignSystemFormBuilder> instance,\n\toptions: { remove_buttons: #{@preview_form.remove_buttons}, mobile_variant: #{@preview_form.mobile_variant}, close_all: #{@preview_form.close_all} },\n\tfilters: { total_count: 4, title: 'Filters title' },\n\titems: [\n\t\t{\n\t\t\ttitle: 'Group title',\n\t\t\tkey: 'preview_key',\n\t\t\tsearch: #{@preview_form.search},\n\t\t\tscroll: #{@preview_form.scroll},\n\t\t\tattribute: :groups,\n\t\t\tselected: %w[option_1 option_2 option_3 option_4 option_5],\n\t\t\toptions: [%w[option_1 one], %w[option_2 two], %w[option_3 three], %w[option_4 four], %w[option_5 five]],\n\t\t\tvalue_method: :first,\n\t\t\ttext_method: :last,\n\t\t\tselected_method: :last,\n\t\t\tsmall: #{@preview_form.small}\n\t\t}\n\t]\n))"
