namespace :data do
  namespace :seed do
    desc 'Seed payscale data'
    task pay_scale: :environment do
      NEW_PAYSCALE_DATA.each.with_index do |scale, index|
        scale[2][1].each do |region|
          payscale = PayScale.new(index: index,
                                  code: scale[0],
                                  label: scale[1],
                                  salary: region[1].to_s,
                                  starts_at: Date.parse(region[2]),
                                  expires_at: Date.parse(region[3]),
                                  regional_pay_band_area: RegionalPayBandArea.find_by(name: region[0]))
          begin
            payscale.save
          rescue ActiveRecord::RecordNotUnique
            Rails.logger.info("Payscale #{scale[1]} already exists")
          end
        end
      end
    end
  end
end

NEW_PAYSCALE_DATA = [['MPS1', 'Main pay range 1',
                      ['regional_pay_scale_details', [['Fringe', 24018, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 26662, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 28660, '01/09/2017', '31/08/2018']]]],
                     ['MPS2', 'Main pay range 2',
                      ['regional_pay_scale_details', [['Fringe', 25828, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 28315, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 30155, '01/09/2017', '31/08/2018']]]],
                     ['MPS3', 'Main pay range 3',
                      ['regional_pay_scale_details', [['Fringe', 27815, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 30067, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 31726, '01/09/2017', '31/08/2018']]]],
                     ['MPS4', 'Main pay range 4',
                      ['regional_pay_scale_details', [['Fringe', 29878, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 31929, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 33379, '01/09/2017', '31/08/2018']]]],
                     ['MPS5', 'Main pay range 5',
                      ['regional_pay_scale_details', [['Fringe', 32139, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 34637, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 35947, '01/09/2017', '31/08/2018']]]],
                     ['MPS6', 'Main pay range 6',
                      ['regional_pay_scale_details', [['Fringe', 34934, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 37645, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 39006, '01/09/2017', '31/08/2018']]]],
                     ['UPS1', 'Upper pay range 1',
                      ['regional_pay_scale_details', [['Fringe', 37017, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 39519, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 43616, '01/09/2017', '31/08/2018']]]],
                     ['UPS2', 'Upper pay range 2',
                      ['regional_pay_scale_details', [['Fringe', 38346, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 40981, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 45760, '01/09/2017', '31/08/2018']]]],
                     ['UPS3', 'Upper pay range 3',
                      ['regional_pay_scale_details', [['Fringe', 39725, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 42498, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 47298, '01/09/2017', '31/08/2018']]]],
                     ['LPS1', 'Lead Practitioners range 1',
                      ['regional_pay_scale_details', [['Fringe', 40458, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 42498, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 46814, '01/09/2017', '31/08/2018']]]],
                     ['LPS2', 'Lead Practitioners range 2',
                      ['regional_pay_scale_details', [['Fringe', 41447, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 43468, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 47804, '01/09/2017', '31/08/2018']]]],
                     ['LPS3', 'Lead Practitioners range 3',
                      ['regional_pay_scale_details', [['Fringe', 42454, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 44490, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 48816, '01/09/2017', '31/08/2018']]]],
                     ['LPS4', 'Lead Practitioners range 4',
                      ['regional_pay_scale_details', [['Fringe', 43489, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 45525, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 49844, '01/09/2017', '31/08/2018']]]],
                     ['LPS5', 'Lead Practitioners range 5',
                      ['regional_pay_scale_details', [['Fringe', 44546, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 46582, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 50906, '01/09/2017', '31/08/2018']]]],
                     ['LPS6', 'Lead Practitioners range 6',
                      ['regional_pay_scale_details', [['Fringe', 45633, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 46582, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 50906, '01/09/2017', '31/08/2018']]]],
                     ['LPS7', 'Lead Practitioners range 7',
                      ['regional_pay_scale_details', [['Fringe', 46835, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 47667, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 53194, '01/09/2017', '31/08/2018']]]],
                     ['LPS8', 'Lead Practitioners range 8',
                      ['regional_pay_scale_details', [['Fringe', 47884, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 49924, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 54247, '01/09/2017', '31/08/2018']]]],
                     ['LPS9', 'Lead Practitioners range 9',
                      ['regional_pay_scale_details', [['Fringe', 49055, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 51090, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 55411, '01/09/2017', '31/08/2018']]]],
                     ['LPS10', 'Lead Practitioners range 10',
                      ['regional_pay_scale_details', [['Fringe', 50286, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 52325, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 56644, '01/09/2017', '31/08/2018']]]],
                     ['LPS11', 'Lead Practitioners range 11',
                      ['regional_pay_scale_details', [['Fringe', 51561, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 53597, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 57918, '01/09/2017', '31/08/2018']]]],
                     ['LPS12', 'Lead Practitioners range 12',
                      ['regional_pay_scale_details', [['Fringe', 52730, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 54766, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 59087, '01/09/2017', '31/08/2018']]]],
                     ['LPS13', 'Lead Practitioners range 13',
                      ['regional_pay_scale_details', [['Fringe', 54021, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 56059, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 60376, '01/09/2017', '31/08/2018']]]],
                     ['LPS14', 'Lead Practitioners range 14',
                      ['regional_pay_scale_details', [['Fringe', 55338, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 57370, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 61695, '01/09/2017', '31/08/2018']]]],
                     ['LPS15', 'Lead Practitioners range 15',
                      ['regional_pay_scale_details', [['Fringe', 56684, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 58720, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 63041, '01/09/2017', '31/08/2018']]]],
                     ['LPS16', 'Lead Practitioners range 16',
                      ['regional_pay_scale_details', [['Fringe', 58167, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 60202, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 64525, '01/09/2017', '31/08/2018']]]],
                     ['LPS17', 'Lead Practitioners range 17',
                      ['regional_pay_scale_details', [['Fringe', 59485, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 61515, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 65837, '01/09/2017', '31/08/2018']]]],
                     ['LPS18', 'Lead Practitioners range 18',
                      ['regional_pay_scale_details', [['Fringe', 60945, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 62985, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 67305, '01/09/2017', '31/08/2018']]]],
                     ['LPS19', 'Lead Practitioners range 19',
                      ['regional_pay_scale_details', [['Fringe', 62429, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 64469, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 68789, '01/09/2017', '31/08/2018']]]],
                     ['LPS20', 'Lead Practitioners range 20',
                      ['regional_pay_scale_details', [['Fringe', 63955, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 65988, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 70310, '01/09/2017', '31/08/2018']]]],
                     ['LPS21', 'Lead Practitioners range 21',
                      ['regional_pay_scale_details', [['Fringe', 65513, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 67545, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 71865, '01/09/2017', '31/08/2018']]]],
                     ['LPS22', 'Lead Practitioners range 22',
                      ['regional_pay_scale_details', [['Fringe', 67108, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 69139, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 73465, '01/09/2017', '31/08/2018']]]],
                     ['LPS23', 'Lead Practitioners range 23',
                      ['regional_pay_scale_details', [['Fringe', 68738, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 70774, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 75094, '01/09/2017', '31/08/2018']]]],
                     ['LPS24', 'Lead Practitioners range 24',
                      ['regional_pay_scale_details', [['Fringe', 70423, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 72454, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 76778, '01/09/2017', '31/08/2018']]]],
                     ['LPS25', 'Lead Practitioners range 25',
                      ['regional_pay_scale_details', [['Fringe', 72140, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 74177, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 78497, '01/09/2017', '31/08/2018']]]],
                     ['LPS26', 'Lead Practitioners range 26',
                      ['regional_pay_scale_details', [['Fringe', 73903, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 75934, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 80254, '01/09/2017', '31/08/2018']]]],
                     ['LPS27', 'Lead Practitioners range 27',
                      ['regional_pay_scale_details', [['Fringe', 75702, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 77738, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 82057, '01/09/2017', '31/08/2018']]]],
                     ['LPS28', 'Lead Practitioners range 28',
                      ['regional_pay_scale_details', [['Fringe', 77551, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 79591, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 83910, '01/09/2017', '31/08/2018']]]],
                     ['LPS29', 'Lead Practitioners range 29',
                      ['regional_pay_scale_details', [['Fringe', 79450, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 81481, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 85807, '01/09/2017', '31/08/2018']]]],
                     ['LPS30', 'Lead Practitioners range 30',
                      ['regional_pay_scale_details', [['Fringe', 81393, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 83432, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 87755, '01/09/2017', '31/08/2018']]]],
                     ['LPS31', 'Lead Practitioners range 31',
                      ['regional_pay_scale_details', [['Fringe', 83386, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 85422, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 89742, '01/09/2017', '31/08/2018']]]],
                     ['LPS32', 'Lead Practitioners range 32',
                      ['regional_pay_scale_details', [['Fringe', 85431, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 87461, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 91783, '01/09/2017', '31/08/2018']]]],
                     ['LPS33', 'Lead Practitioners range 33',
                      ['regional_pay_scale_details', [['Fringe', 87527, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 89562, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 93881, '01/09/2017', '31/08/2018']]]],
                     ['LPS34', 'Lead Practitioners range 34',
                      ['regional_pay_scale_details', [['Fringe', 89663, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 91697, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 96018, '01/09/2017', '31/08/2018']]]],
                     ['LPS35', 'Lead Practitioners range 35',
                      ['regional_pay_scale_details', [['Fringe', 91865, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 93897, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 98220, '01/09/2017', '31/08/2018']]]],
                     ['LPS36', 'Lead Practitioners range 36',
                      ['regional_pay_scale_details', [['Fringe', 94109, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 96141, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 100464, '01/09/2017', '31/08/2018']]]],
                     ['LPS37', 'Lead Practitioners range 37',
                      ['regional_pay_scale_details', [['Fringe', 96422, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 98459, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 102783, '01/09/2017', '31/08/2018']]]],
                     ['LPS38', 'Lead Practitioners range 38',
                      ['regional_pay_scale_details', [['Fringe', 98781, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 100817, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 105135, '01/09/2017', '31/08/2018']]]],
                     ['LPS39', 'Lead Practitioners range 39',
                      ['regional_pay_scale_details', [['Fringe', 101158, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 103195, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 107516, '01/09/2017', '31/08/2018']]]],
                     ['LPS40', 'Lead Practitioners range 40',
                      ['regional_pay_scale_details', [['Fringe', 103663, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 105697, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 110020, '01/09/2017', '31/08/2018']]]],
                     ['LPS41', 'Lead Practitioners range 41',
                      ['regional_pay_scale_details', [['Fringe', 106222, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 108259, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 112584, '01/09/2017', '31/08/2018']]]],
                     ['LPS42', 'Lead Practitioners range 42',
                      ['regional_pay_scale_details', [['Fringe', 108858, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 110887, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 115211, '01/09/2017', '31/08/2018']]]],
                     ['LPS43', 'Lead Practitioners range 43',
                      ['regional_pay_scale_details', [['Fringe', 110448, '01/09/2017', '31/08/2018'],
                                                      ['Outer London', 112460, '01/09/2017', '31/08/2018'],
                                                      ['Inner London', 116738, '01/09/2017', '31/08/2018']]]]].freeze
